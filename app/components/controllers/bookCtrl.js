function bookCtrl(a,b,c,d){a.cottages=[],a.startdate="",a.enddate="",a.firstname="",a.lastname="",a.mobile="",a.address="",a.email="",a.message="",a.cottage="",a.isLoading=!1;var e=(new MaterialDatepicker("#startDate",{lang:"en",orientation:"landscape",theme:"light",color:"#726277"}),new MaterialDatepicker("#endDate",{lang:"en",orientation:"landscape",theme:"light",color:"#726277"}),Parse.Object.extend("Cottage"));new Parse.Query(e).find({success:function(b){for(var c in b)a.cottages.push({name:b[c].get("name"),id:b[c].id,price:b[c].get("price")});a.$apply()},error:function(a){console.log(a)}}),a.submit=function(){if(a.isLoading=!0,a.startdate=$("#startDate")[0].value,a.enddate=$("#endDate")[0].value,""===a.startdate)b.notification("Start date must not empty"),a.isLoading=!1;else if(""===a.enddate)b.notification("End date must not empty"),a.isLoading=!1;else if(new Date(a.startdate)>new Date(a.enddate))b.notification("Invalid Schedule"),a.isLoading=!1;else if(""===a.firstname)b.notification("Firstname must not empty"),a.isLoading=!1;else if(""===a.lastname)b.notification("Lastname must not empty"),a.isLoading=!1;else if(""===a.mobile)b.notification("Mobile number must not empty"),a.isLoading=!1;else if(""===a.address)b.notification("Address must not empty"),a.isLoading=!1;else if(""===a.email)b.notification("Email must not empty"),a.isLoading=!1;else if(""===a.message)b.notification("Message must not empty"),a.isLoading=!1;else{var c=Parse.Object.extend("Cottage"),d=new c;d.id=a.cottage;var e=Parse.Object.extend("Book"),f=new e;f.set("startDate",new Date(a.startdate)),f.set("endDate",new Date(a.enddate)),f.set("firstname",a.firstname),f.set("lastname",a.lastname),f.set("mobile",a.mobile),f.set("address",a.address),f.set("email",a.email),f.set("message",a.message),f.set("cottage",d),f.save({success:function(){a.isLoading=!1,b.notification("Thank you for booking submission, stay tuned for the email updates"),a.$apply()},error:function(c){a.isLoading=!1,b.notification("Something went wrong"),a.$apply()}})}}}angular.module("App").controller("bookCtrl",bookCtrl),bookCtrl.$inject=["$scope","uikitService","$state","$localStorage"];