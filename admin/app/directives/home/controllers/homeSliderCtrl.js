function homeSliderCtrl(a,b,c,d){function e(c){var d=Parse.Object.extend("Banner"),e=new d;e.set("title",a.sliderTitle),e.set("description",a.sliderDescription),e.set("image",c),e.save({success:function(){var a=UIkit.modal("#addslider");a.isActive()?a.hide():a.show(),b.notification("Slider has been saved"),h()},error:function(a){b.notification("Something went wrong")}})}function f(c){console.log(a.editSliderItem.id);var d=Parse.Object.extend("Banner"),e=new d;e.id=a.editSliderItem.id,e.set("title",a.editSliderItem.title),e.set("description",a.editSliderItem.description),null!=c&&e.set("image",c),e.save({success:function(){var a=UIkit.modal("#editslider");a.isActive()?a.hide():a.show(),b.notification("Slider has been saved"),h()},error:function(a){b.notification("Something went wrong")}})}function g(a){var c=Parse.Object.extend("Banner");new Parse.Query(c).get(a.id,{success:function(a){a.destroy({success:function(){var a=UIkit.modal("#deleteSlider");a.isActive()?a.hide():a.show(),b.notification("Slider has been removed"),h()},error:function(){b.notification("Something went wrong")}})},error:function(a,c){b.notification("Something went wrong")}})}function h(){var c=Parse.Object.extend("Banner");new Parse.Query(c).find({success:function(b){a.heroImages=[];for(var c in b)a.heroImages.push({id:b[c].id,image:b[c].get("image"),title:b[c].get("title"),description:b[c].get("description")});a.$apply()},error:function(a){b.notification("Something went wrong")}})}a.heroImages=[],a.sliderImage=null,a.sliderTitle=null,a.sliderDescription=null,h(),a.addSlider=function(){if(a.sliderImage=$("#imageSlider")[0].files[0],null==a.sliderTitle)b.notification("Title must specified");else if(null==a.sliderImage)b.notification("No Image uploaded");else if(null==a.sliderDescription)b.notification("Description must specified");else{var c=new FileReader;c.readAsDataURL(a.sliderImage),c.onload=function(){new Parse.File($("#imageSlider")[0].files[0].name,{base64:c.result}).save({success:function(a){e(a)},error:function(a){b.notification("Something went wrong")}})},c.onerror=function(a){b.notification("Something went wrong")}}},a.editSlider=function(b){a.editSliderItem=b},a.deleteSlider=function(b,c){a.deleteSliderItem=b,a.type=c},a.updateSlider=function(){if(a.editImageSlider=$("#editImageSlider")[0].files[0],""==a.editSliderItem.title)b.notification("Title must specified");else if(""==a.editSliderItem.description)b.notification("Description must specified");else if(null!=a.editImageSlider){var c=new FileReader;c.readAsDataURL(a.sliderImage),c.onload=function(){new Parse.File($("#editImageSlider")[0].files[0].name,{base64:c.result}).save({success:function(a){f(a)},error:function(a){b.notification("Something went wrong")}})},c.onerror=function(a){b.notification("Something went wrong")}}else f(null)},a.dropSlider=function(){"slider"==a.type&&g(a.deleteSliderItem)}}angular.module("Admin").controller("homeSliderCtrl",homeSliderCtrl),homeSliderCtrl.$inject=["$scope","uikitService","$state","$localStorage"];